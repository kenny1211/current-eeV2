<!DOCTYPE HTML>
<html>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<head>

    <form>
        <div class="form">
          <div class="form-group">
            <label for="description-input">Description</label>
            <input class="form-control" id="name" placeholder="Description" type="text">
          </div>
          <div class="form-group">
            <label for="role-input">Amount</label>
            <input class="form-control" id="amount" placeholder="$$$" type="text">
          </div>
          <div class="form-group">
            <label for="date">Date</label>
            <input class="form-control" id="date" placeholder="MM/DD/YYYY" type="text">
          </div>
        </div>
        <div class="btn-group btn-group-toggle" data-toggle="buttons">
          <label class="btn btn-success">
            <input type="radio" name="inc_exp" id="income" autocomplete="off" value="income"> Income
          </label>
          <label class="btn btn-danger">
            <input type="radio" name="inc_exp" id="expense" autocomplete="off" value="expense"> Expense
          </label>
        </div>
        <button class="btn btn-primary float-right" id="submit">Submit</button>
      </form>
  <script type="text/javascript">
  window.onload = function () {
    var chart = new CanvasJS.Chart("chartContainer", {            
      title:{
        text: "Expense Overview"              
      },

      data: [  //array of dataSeries     
      { //dataSeries - expenses
 /*** Change type "column" to "bar", "area", "line" or "pie"***/        
       type: "pie",
       name: "Expenses",
       showInLegend: true,
       dataPoints: [
       { label: "July", y: 18 },
       { label: "August", y: 29 },
       { label: "September", y: 40 },                                    
       { label: "October", y: 34 },
       { label: "November", y: 24 },
       { label: "December", y: 24 }
       ]
     },

     { //dataSeries - income

      type: "pie",
      name: "Income", 
      showInLegend: true,               
      dataPoints: [
      { label: "July", y: 23 },
      { label: "August", y: 23 },
      { label: "Sept", y: 33 },
      { label: "Oct", y: 48 },                                    
      { label: "Nov", y: 37 },
      { label: "Dec", y: 20 }
      ]
    }
    ],
 /** Set axisY properties here*/
    axisY:{
      prefix: "$",
      suffix: "K"
    }    
  });

chart.render();
}

let data = {
  dscrpt: "",
  amnt: 0,
  month: 0,
  day: 0,
  year: 0000,
  inc_exp: "income",
};

$("#submit").on("click", function () {
  event.preventDefault();
  var dscrpt = $("#name").val().trim();
  var amnt = $("#amount").val().trim();
  var day = $("#date").val().trim();
  var inc_exp = $("[name=inc_exp]:checked").val();


data.dscrpt = dscrpt;
data.amnt = amnt;
data.day = day;
data.inc_exp = inc_exp

console.log(data);

//insert ajax post method to push to database
$.post("api/chart", data, function(req, res) {
console.log("posted into api/chart")
})


});
</script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

</head>
<body>
  <div id="chartContainer" style="height: 300px; width: 100%;">
  </div>
</body>
</html>